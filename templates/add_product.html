{% extends "base.html" %}
{% block content %}
{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'css/django_messages.css' %}">



<div class="page-body">
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        {{ message|safe }}
    </div>
    {% endfor %}
    {% endif %}
    <!-- Container-fluid starts-->
    <div class="container-fluid">
        <div class="page-header">
            <div class="row">
                <div class="col-lg-6">
                    <div class="page-header-left">
                        <h3>Add Products
                            <small>ERP Admin panel</small>
                        </h3>
                    </div>
                </div>
                <div class="col-lg-6">
                    <ol class="breadcrumb pull-right">
                        <li class="breadcrumb-item"><a href="index.html"><i data-feather="home"></i></a></li>
                        <li class="breadcrumb-item">Digital</li>
                        <li class="breadcrumb-item active">Add Product</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <!-- Container-fluid Ends-->

    <!-- Container-fluid starts-->
    <div class="container-fluid">
        <div class="row product-adding">
            <div class="col-xl-11">
                <div class="card">
                    <div class="card-body">
                        <div class="digital-add needs-validation">
                            <form method="post" action="" enctype="multipart/form-data">
                                {% csrf_token %}
                                <div class="form-group">
                                    <label for="validationCustomtitle" class="col-form-label pt-0"><span>*</span>
                                        Product Name</label>
                                    <input class="form-control" name='product_name' id="name" id="validationCustomtitle" value="{{product.Product_Name}}"
                                        type="text" required="">
                                </div>
                                <div class="form-group">
                                    <label class="col-form-label"><span>*</span>Product Categories</label>
                                    <select class="custom-select" id="myDropdown1" required="" name="categories">
                                        <option value="">--Select--</option>
                                        {% for category in all_category %}
                                        <option value="{{category.category_ID}}">{{category}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="col-form-label"><span>*</span>Product Status</label>
                                    <select class="custom-select" id="myDropdown2" required="" name="status">
                                        <option value="">--Select--</option>
                                        <option value="A">Active</option>
                                        <option value="I">Inactive</option>

                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="col-form-label"><span>*</span>Product Quantity</label>
                                    <select class="custom-select" id="myDropdown3" required="" name="quantity">
                                        <option value="">--Select--</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="validationCustomtitle" class="col-form-label pt-0"><span>*</span>
                                        Product Price</label>
                                    <input class="form-control" name='product_price' id="price"
                                        id="validationCustomtitle" type="text" required="">
                                </div>
                                <br>
                                <label class="col-form-label pt-0"> Product Upload</label>
                                <input type="file" required name="user_img" accept="image/*" onChange="validateAndUpload(this);">
                                <br>
                                <br>
                                <div class="form-group mb-0">
                                    <div class="product-buttons text-center">
                                        <input class="btn btn-primary " type="submit" value="Upload">
                                        <!-- <button type="submit" class="btn btn-primary">Add</button> -->
                                        <button type="button" class="btn btn-light">Discard</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Container-fluid Ends-->

</div>

<script>
    var data = JSON.parse("{{data|escapejs}}");
    let obj = Object.values(data[0]);

    var dataNode = document.getElementById('myDropdown3');
    dataNode.value = obj[2]

    var dataNode2 = document.getElementById('myDropdown2');
    dataNode2.value = obj[5]

    var dataNode3 = document.getElementById('myDropdown1');
    dataNode3.value = obj[4]

    var price = document.getElementById('price');
    price.value = obj[3]

</script>
{% endblock content %}